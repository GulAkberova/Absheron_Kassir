<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <!-- <form id="imageForm">
      <input type="file" accept="image/*" capture="camera" id="imageInput" />
      <button type="button" id="captureButton">Capture and Upload</button>
    </form>
    <img id="capturedImage" src="#" alt="Captured Image" />
    <script>
      const imageInput = document.getElementById("imageInput");
      const captureButton = document.getElementById("captureButton");
      const capturedImage = document.getElementById("capturedImage");

      captureButton.addEventListener("click", async () => {
        try {
          const stream = await navigator.mediaDevices.getUserMedia({
            video: true,
          });
          const videoTrack = stream.getVideoTracks()[0];
          const imageCapture = new ImageCapture(videoTrack);

          const photoBlob = await imageCapture.takePhoto();
          const imageUrl = URL.createObjectURL(photoBlob);

          capturedImage.src = imageUrl;
        } catch (error) {
          console.error("Error capturing image:", error);
        }
      });
    </script> -->
    <video id="cameraFeed" autoplay></video>
    <button id="captureButton">Capture Photo</button>
    <canvas id="canvas" style="display: none"></canvas>
    <img id="capturedImage" style="display: none" />
    <script>
      const cameraFeed = document.getElementById("cameraFeed");
      const captureButton = document.getElementById("captureButton");
      const canvas = document.getElementById("canvas");
      const capturedImage = document.getElementById("capturedImage");

      async function setupCamera() {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
        });
        cameraFeed.srcObject = stream;
      }

      function capturePhoto() {
        canvas.width = cameraFeed.videoWidth;
        canvas.height = cameraFeed.videoHeight;
        canvas
          .getContext("2d")
          .drawImage(cameraFeed, 0, 0, canvas.width, canvas.height);

        capturedImage.src = canvas.toDataURL("image/png");
        capturedImage.style.display = "block";
      }

      captureButton.addEventListener("click", capturePhoto);

      setupCamera();
    </script>
  </body>
</html>
